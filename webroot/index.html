<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
  <meta name="theme-color" content="#141218">
  <title>Frosty</title>
  <link rel="stylesheet" href="/internal/insets.css">
  <link rel="stylesheet" href="style.css">
</head>
<body unresolved>
  <div id="toast-wrap"></div>

  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loading-overlay">
    <div class="loading-box">
      <div class="spinner"></div>
      <div class="loading-txt" id="loading-txt">Processing...</div>
    </div>
  </div>

  <!-- Whitelist Modal -->
  <div class="modal-overlay" id="wl-modal">
    <div class="modal">
      <div class="modal-head">
        <h3>ğŸ“‹ Doze Whitelist</h3>
        <button class="modal-x ripple" id="wl-close">âœ•</button>
      </div>
      <div class="modal-notice">
        <span>â„¹ï¸</span>
        <span>Whitelisted apps bypass Deep Doze restrictions. Add messaging, banking, and alarm apps here.</span>
      </div>
      <div class="modal-controls">
        <input type="text" class="modal-search" placeholder="Search apps..." id="wl-search">
        <label class="sys-toggle">
          <input type="checkbox" id="wl-sys">
          <span>System</span>
        </label>
      </div>
      <div class="modal-list" id="wl-list"></div>
    </div>
  </div>

  <!-- Main App -->
  <div id="app">
    <header class="hdr">
      <div class="hdr-row">
        <div class="hdr-brand">
          <span class="brand-ico">ğŸ§Š</span>
          <span class="brand-txt">FROSTY</span>
        </div>
        <a class="gh-link ripple" id="gh-btn" title="GitHub">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.21 11.39.6.11.79-.26.79-.58v-2.23c-3.34.73-4.03-1.42-4.03-1.42-.55-1.39-1.33-1.76-1.33-1.76-1.09-.74.08-.73.08-.73 1.2.08 1.84 1.24 1.84 1.24 1.07 1.83 2.81 1.3 3.49 1 .11-.78.42-1.3.76-1.6-2.67-.31-5.47-1.34-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.13-.3-.54-1.52.12-3.18 0 0 1-.32 3.3 1.23.96-.27 1.98-.4 3-.4s2.05.13 3.01.4c2.29-1.55 3.3-1.23 3.3-1.23.66 1.65.24 2.87.12 3.18.77.84 1.23 1.91 1.23 3.22 0 4.61-2.81 5.62-5.48 5.92.43.37.82 1.1.82 2.22v3.29c0 .32.19.69.8.58C20.57 21.8 24 17.3 24 12c0-6.63-5.37-12-12-12z"/></svg>
        </a>
        <span id="version-badge"></span>
      </div>
      <div class="hdr-sub">GMS Freezer &amp; Battery Saver</div>
    </header>

    <!-- State Badge -->
    <div class="state-row">
      <span class="state-label">Current state</span>
      <span class="state-badge" id="state-badge">â€”</span>
    </div>

    <!-- Action Buttons -->
    <div class="actions">
      <button class="act-btn freeze ripple" id="btn-freeze">
        <span class="act-ico">ğŸ§Š</span><span>Freeze All</span>
      </button>
      <button class="act-btn stock ripple" id="btn-stock">
        <span class="act-ico">ğŸ”¥</span><span>Revert All</span>
      </button>
    </div>

    <!-- System Tweaks -->
    <section class="card">
      <h2 class="card-title">âš¡ System Tweaks</h2>
      <div class="tgl-row ripple" data-key="kernel_tweaks">
        <div class="tgl-info">
          <span class="tgl-name">Kernel Tweaks</span>
          <span class="tgl-desc">Speeds up task switching, reduces CPU wakeups</span>
        </div>
        <label class="tgl"><input type="checkbox" id="t-kernel"><span class="tgl-sl"></span></label>
      </div>
      <div class="tgl-row ripple" data-key="system_props">
        <div class="tgl-info">
          <span class="tgl-name">System Props</span>
          <span class="tgl-desc">Silences debug logging, saves battery & RAM</span>
          <span class="reboot-tag">âš  Reboot required</span>
        </div>
        <label class="tgl"><input type="checkbox" id="t-sysprops"><span class="tgl-sl"></span></label>
      </div>
      <div class="tgl-row ripple" data-key="blur_disable">
        <div class="tgl-info">
          <span class="tgl-name">Disable Blur</span>
          <span class="tgl-desc">Reduces GPU load, smoother on weaker devices</span>
        </div>
        <label class="tgl"><input type="checkbox" id="t-blur"><span class="tgl-sl"></span></label>
      </div>
      <div class="tgl-row ripple" data-key="log_killing">
        <div class="tgl-info">
          <span class="tgl-name">Kill Logs</span>
          <span class="tgl-desc">Stops background loggers, frees RAM</span>
          <span class="reboot-tag">âš  Reboot required</span>
        </div>
        <label class="tgl"><input type="checkbox" id="t-logs"><span class="tgl-sl"></span></label>
      </div>
    </section>

    <!-- Doze -->
    <section class="card">
      <h2 class="card-title">ğŸ’¤ Doze</h2>
      <div class="tgl-row ripple" data-key="gms_doze">
        <div class="tgl-info">
          <span class="tgl-name">GMS Doze</span>
          <span class="tgl-desc">Lets Android optimize GMS battery Â· May delay notifications</span>
        </div>
        <label class="tgl"><input type="checkbox" id="t-gms-doze"><span class="tgl-sl"></span></label>
      </div>
      <div class="divider"></div>
      <div class="tgl-row ripple" data-key="deep_doze">
        <div class="tgl-info">
          <span class="tgl-name">Deep Doze</span>
          <span class="tgl-desc">Restricts background activity for all apps</span>
        </div>
        <label class="tgl"><input type="checkbox" id="t-deep-doze"><span class="tgl-sl"></span></label>
      </div>
      <div class="dd-extras" id="dd-extras">
        <div class="level-row">
          <button class="lvl-btn ripple" data-level="moderate" id="lvl-mod">âš¡ Moderate</button>
          <button class="lvl-btn ripple" data-level="maximum" id="lvl-max">ğŸ’€ Maximum</button>
        </div>
        <button class="wl-btn ripple" id="wl-open">
          <span>ğŸ“‹ App Doze Whitelist</span>
          <span class="wl-count" id="wl-count">0</span>
        </button>
      </div>
    </section>

    <!-- GMS Categories -->
    <section class="card">
      <h2 class="card-title">ğŸ§Š GMS Categories</h2>
      <div class="cat-row ripple" data-cat="telemetry">
        <div class="cat-left"><span class="cat-ico">ğŸ“Š</span><div class="cat-info"><span class="cat-name">Telemetry</span><span class="cat-tag safe">Safe Â· Ads, analytics</span></div></div>
        <label class="tgl"><input type="checkbox" id="t-telemetry"><span class="tgl-sl"></span></label>
      </div>
      <div class="cat-row ripple" data-cat="background">
        <div class="cat-left"><span class="cat-ico">ğŸ”„</span><div class="cat-info"><span class="cat-name">Background</span><span class="cat-tag safe">Safe Â· Updates, MDM</span></div></div>
        <label class="tgl"><input type="checkbox" id="t-background"><span class="tgl-sl"></span></label>
      </div>
      <div class="cat-row ripple" data-cat="location">
        <div class="cat-left"><span class="cat-ico">ğŸ“</span><div class="cat-info"><span class="cat-name">Location</span><span class="cat-tag warn">Breaks Maps, GPS</span></div></div>
        <label class="tgl"><input type="checkbox" id="t-location"><span class="tgl-sl"></span></label>
      </div>
      <div class="cat-row ripple" data-cat="connectivity">
        <div class="cat-left"><span class="cat-ico">ğŸ“¡</span><div class="cat-info"><span class="cat-name">Connectivity</span><span class="cat-tag warn">Breaks Cast, Quick Share</span></div></div>
        <label class="tgl"><input type="checkbox" id="t-connectivity"><span class="tgl-sl"></span></label>
      </div>
      <div class="cat-row ripple" data-cat="cloud">
        <div class="cat-left"><span class="cat-ico">â˜ï¸</span><div class="cat-info"><span class="cat-name">Cloud</span><span class="cat-tag warn">Breaks Sign-in, Autofill</span></div></div>
        <label class="tgl"><input type="checkbox" id="t-cloud"><span class="tgl-sl"></span></label>
      </div>
      <div class="cat-row ripple" data-cat="payments">
        <div class="cat-left"><span class="cat-ico">ğŸ’³</span><div class="cat-info"><span class="cat-name">Payments</span><span class="cat-tag warn">Breaks Google Pay</span></div></div>
        <label class="tgl"><input type="checkbox" id="t-payments"><span class="tgl-sl"></span></label>
      </div>
      <div class="cat-row ripple" data-cat="wearables">
        <div class="cat-left"><span class="cat-ico">âŒš</span><div class="cat-info"><span class="cat-name">Wearables</span><span class="cat-tag warn">Breaks Wear OS, Fit</span></div></div>
        <label class="tgl"><input type="checkbox" id="t-wearables"><span class="tgl-sl"></span></label>
      </div>
      <div class="cat-row ripple" data-cat="games">
        <div class="cat-left"><span class="cat-ico">ğŸ®</span><div class="cat-info"><span class="cat-name">Games</span><span class="cat-tag warn">Breaks Play Games</span></div></div>
        <label class="tgl"><input type="checkbox" id="t-games"><span class="tgl-sl"></span></label>
      </div>
    </section>

    <!-- Activity Log -->
    <section class="card">
      <div class="card-title-row">
        <h2 class="card-title">ğŸ“„ Activity Log</h2>
        <div style="display:flex;gap:6px">
          <button class="log-copy-btn ripple" id="log-copy-btn" title="Copy log">
            <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
          </button>
          <button class="log-copy-btn ripple" id="log-clear-btn" title="Clear log">
            <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>
          </button>
        </div>
      </div>
      <div class="log-wrap">
        <div class="log-box" id="log-box"></div>
        <button class="log-expand-btn" id="log-expand-btn" title="Expand">
          <svg viewBox="0 0 24 24" width="12" height="12" fill="currentColor"><path d="M7 10l5 5 5-5z"/></svg>
        </button>
      </div>
    </section>
  </div>

  <script src="api.js"></script>
  <script src="app.js"></script>
</body>
</html>